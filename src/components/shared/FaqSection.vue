<template>
    <section aria-labelledby="faq-heading" class="faq-wrapper">
        <h3 id="faq-heading">Got Questions? We've got Answers.</h3>

        <div class="faq-box">

            <div class="faq-item">
                <button @click="isOpen = !isOpen" :aria-expanded="isOpen" aria-controls="faq1" id="faq1-button">
                    <p>
                        Was ist dieses Projekt?
                    </p>

                    <svg class="arrow-icon" width="25" height="24" viewBox="0 0 25 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_329_93" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="25" height="24">
                            <rect x="0.5" width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_329_93)">
                            <path
                                d="M7.9 15.3751L6.5 13.9751L12.5 7.9751L18.5 13.9751L17.1 15.3751L12.5 10.7751L7.9 15.3751Z"
                                fill="#2D2C2F" />
                        </g>
                    </svg>

                </button>

                <div id="faq1" v-if="isOpen" role="region" aria-labelledby="faq1-button" class="faq-answer">
                    <p>Das Projekt ist eine Web-App, die …</p>
                </div>
            </div>

            <div class="faq-item">
                <button @click="isOpen = !isOpen" :aria-expanded="isOpen" aria-controls="faq1" id="faq1-button">
                    <p>
                        Was ist dieses Projekt?
                    </p>

                    <svg class="arrow-icon" width="25" height="24" viewBox="0 0 25 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_329_93" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="25" height="24">
                            <rect x="0.5" width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_329_93)">
                            <path
                                d="M7.9 15.3751L6.5 13.9751L12.5 7.9751L18.5 13.9751L17.1 15.3751L12.5 10.7751L7.9 15.3751Z"
                                fill="#2D2C2F" />
                        </g>
                    </svg>

                </button>

                <div id="faq1" v-if="isOpen" role="region" aria-labelledby="faq1-button" class="faq-answer">
                    <p>Das Projekt ist eine Web-App, die …</p>
                </div>
            </div>

            <div class="faq-item">
                <button @click="isOpen = !isOpen" :aria-expanded="isOpen" aria-controls="faq1" id="faq1-button">
                    <p>
                        Was ist dieses Projekt?
                    </p>

                    <svg class="arrow-icon" width="25" height="24" viewBox="0 0 25 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_329_93" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="25" height="24">
                            <rect x="0.5" width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_329_93)">
                            <path
                                d="M7.9 15.3751L6.5 13.9751L12.5 7.9751L18.5 13.9751L17.1 15.3751L12.5 10.7751L7.9 15.3751Z"
                                fill="#2D2C2F" />
                        </g>
                    </svg>

                </button>

                <div id="faq1" v-if="isOpen" role="region" aria-labelledby="faq1-button" class="faq-answer">
                    <p>Das Projekt ist eine Web-App, die …</p>
                </div>
            </div>

            <div class="faq-item">
                <button @click="isOpen = !isOpen" :aria-expanded="isOpen" aria-controls="faq1" id="faq1-button">
                    <p>
                        Was ist dieses Projekt?
                    </p>

                    <svg class="arrow-icon" width="25" height="24" viewBox="0 0 25 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_329_93" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="25" height="24">
                            <rect x="0.5" width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_329_93)">
                            <path
                                d="M7.9 15.3751L6.5 13.9751L12.5 7.9751L18.5 13.9751L17.1 15.3751L12.5 10.7751L7.9 15.3751Z"
                                fill="#2D2C2F" />
                        </g>
                    </svg>

                </button>

                <div id="faq1" v-if="isOpen" role="region" aria-labelledby="faq1-button" class="faq-answer">
                    <p>Das Projekt ist eine Web-App, die …</p>
                </div>
            </div>

            <div class="faq-item">
                <button @click="isOpen = !isOpen" :aria-expanded="isOpen" aria-controls="faq1" id="faq1-button">
                    <p>
                        Was ist dieses Projekt?
                    </p>

                    <svg class="arrow-icon" width="25" height="24" viewBox="0 0 25 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_329_93" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="25" height="24">
                            <rect x="0.5" width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_329_93)">
                            <path
                                d="M7.9 15.3751L6.5 13.9751L12.5 7.9751L18.5 13.9751L17.1 15.3751L12.5 10.7751L7.9 15.3751Z"
                                fill="#2D2C2F" />
                        </g>
                    </svg>

                </button>

                <div id="faq1" v-if="isOpen" role="region" aria-labelledby="faq1-button" class="faq-answer">
                    <p>Das Projekt ist eine Web-App, die …</p>
                </div>
            </div>

            <div class="faq-item">
                <button @click="isOpen = !isOpen" :aria-expanded="isOpen" aria-controls="faq1" id="faq1-button">
                    <p>
                        Was ist dieses Projekt?
                    </p>

                    <svg class="arrow-icon" width="25" height="24" viewBox="0 0 25 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_329_93" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0"
                            width="25" height="24">
                            <rect x="0.5" width="24" height="24" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0_329_93)">
                            <path
                                d="M7.9 15.3751L6.5 13.9751L12.5 7.9751L18.5 13.9751L17.1 15.3751L12.5 10.7751L7.9 15.3751Z"
                                fill="#2D2C2F" />
                        </g>
                    </svg>

                </button>

                <div id="faq1" v-if="isOpen" role="region" aria-labelledby="faq1-button" class="faq-answer">
                    <p>Das Projekt ist eine Web-App, die …</p>
                </div>
            </div>
        </div>
    </section>

</template>

<script setup lang="ts">
import { ref } from "vue";

const isOpen = ref(false);

</script>

<style lang="scss">
@use "../../styles/_mixins.scss" as mixins;
@use "../../styles/_variables.scss" as variables;

.faq-wrapper {
    @include mixins.dflex-centered;
    justify-content: flex-start;
    flex-direction: column;
    gap: 24px;
    width: 100%;
    min-height: 360px;

    h3 {
        @include mixins.header03;
        max-width: 1344px;
        margin: 0 auto;
    }
}

.faq-box {

    @include mixins.faq-box;

    button {
        @include mixins.faq-button;

        p {
            @include mixins.font-style-small;
            font-weight: 600;
            margin: 0;
        }

        .arrow-icon {
            @include mixins.faq-arrow-icon;
        }

        &[aria-expanded="true"] .arrow-icon {
            transform: rotate(180deg);
        }
    }
}

.faq-answer {
    overflow: hidden;
}

.faq-enter-from,
.faq-leave-to {
    max-height: 0;
    opacity: 0;
}

.faq-enter-to,
.faq-leave-from {
    max-height: 500px; // beliebiger Maxwert, der größer als dein Content ist
    opacity: 1;
}

.faq-enter-active,
.faq-leave-active {
    transition: max-height 0.4s ease, opacity 0.4s ease;
}
</style>